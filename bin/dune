(executable
  (public_name flex)
  (name main)
  (modules main)
  (foreign_stubs
    (language c)
    (names c_stub))
  (libraries flex unix ANSITerminal str shared_api config)
  (link_flags 
    (:standard 
    -cclib -L../../tsh_bindings/target/release 
    -cclib -ltsh_bindings 
    -cclib -Wl,-rpath,%{project_root}/flex/tsh_bindings/target/release))
  (flags (:standard -g))
  (preprocess
    (pps ppx_deriving.show))
)
